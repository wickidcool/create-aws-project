# Milestone v1.5.1: Fixes & Git Setup

**Status:** SHIPPED 2026-02-01
**Phases:** 16
**Total Plans:** 2

## Overview

Fix CLI arg handling and docs, add optional git repo initialization after project generation. Minor patch release addressing CLI bugs and adding a convenience feature for git setup.

## Phases

### Phase 16: Fixes & Git Setup

**Goal**: Users can generate a project with correct CLI behavior and optionally push it to a GitHub repository in one wizard flow
**Depends on**: Phase 15 (current stable codebase)
**Requirements**: FIX-01, FIX-02, GIT-01, GIT-02, GIT-03, GIT-04, GIT-05, GIT-06
**Plans**: 2 plans

**Success Criteria:**
1. Running `npx create-aws-project my-app` pre-fills "my-app" as the default project name in the wizard prompt
2. Generated project documentation shows the correct `setup-aws-envs` command for AWS Organizations setup
3. After project generation, user is prompted for a GitHub repo URL which can be skipped to skip all git setup
4. When repo URL and PAT are provided, the generated project is git-initialized, committed, and pushed to the remote
5. If the specified remote repository does not exist, it is automatically created via GitHub API before pushing

Plans:
- [x] 16-01-PLAN.md -- Fix CLI name arg passthrough and stale package name references
- [x] 16-02-PLAN.md -- Add optional GitHub repository setup after project generation

**Details:**

**Plan 16-01: CLI Fixes**
- Fixed CLI argument handling: `npx create-aws-project my-app` now pre-fills "my-app" in wizard
- Corrected all 9 package name references from `create-aws-starter-kit` to `create-aws-project` in help text and banner
- Updated generated project README template to link to correct npm package
- Preserved backward compatibility with IAM tag values from v1.5.0
- Files modified: src/wizard.ts, src/cli.ts, templates/root/README.md
- Commits: 9eb7232 (feat), 6957966 (fix)

**Plan 16-02: Git Setup**
- Created `src/git/setup.ts` module with git setup orchestration
- Integrated optional git setup into CLI wizard flow after project generation
- User can provide GitHub repo URL and PAT to push generated project immediately
- Pressing Enter at repo URL prompt skips all git operations
- If remote repo doesn't exist, it's created via GitHub API (handles both user and org repos)
- PAT is removed from .git/config after push for security
- Git failures are non-fatal warnings - project remains usable
- Files created: src/git/setup.ts; modified: src/cli.ts
- Commits: a308216 (feat), e8b51a6 (feat)

---

## Milestone Summary

**Decimal Phases:** None

**Key Decisions:**
- WizardOptions interface for wizard configuration extensibility (16-01)
- First non-flag CLI arg extraction pattern for project name (16-01)
- Preserved IAM ManagedBy tags for v1.5.0 backward compatibility (16-01)
- Git setup is fully optional - pressing Enter skips all operations (16-02)
- PAT cleaned from .git/config after push for security (16-02)
- Git failures are warnings, not fatal errors (16-02)
- Supports both user and organization repository creation (16-02)

**Issues Resolved:**
- CLI name argument not passed through to wizard prompt
- Package name references showing old `create-aws-starter-kit` instead of `create-aws-project`
- No git setup option after project generation

**Issues Deferred:**
- No automated tests for git setup module (tech debt, low impact)
- No automated tests for CLI argument extraction (tech debt, low impact)

**Technical Debt Incurred:**
- No automated tests for WizardOptions.defaultName parameter
- No automated tests for CLI argument extraction
- No automated tests for git setup module (src/git/setup.ts)

---

_For current project status, see .planning/ROADMAP.md_
